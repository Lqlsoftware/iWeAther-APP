{"version":3,"sources":["webpack:///0.c29a556edb2a248a0b1f.js","webpack:///./src/pages/Home.vue?d0ed","webpack:///./src/pages/Home.vue?889c","webpack:///./src/pages/Home.vue","webpack:///./src/pages/Home.vue?9fc7","webpack:///./src/pages/Home.vue?a893"],"names":["webpackJsonp","479","module","exports","__webpack_require__","Component","481","undefined","push","i","482","__webpack_exports__","Object","defineProperty","value","name","data","basic","city","update","loc","now","hum","fl","vis","wind","cond","txt","chartsOptions","daily_forecast","afterCalculater","maxTmps","minTmps","xDate","preFetch","this","methods","meta","beforeMount","$emit","created","getWeathers","mounted","console","log","window","screen","height","document","getElementById","style","addEventListener","handleScroll","title","description","keywords","let","self","$http","get","then","response","$data","HeWeather5","catch","error","Error","calcuTems","renderCharts","temArr","ref","temMaxs","temMins","forEach","item","tmp","max","min","Number","date","split","$echarts","init","setOption","xAxis","type","boundaryGap","yAxis","show","axisLabel","formatter","series","lineStyle","normal","width","color","shadowColor","shadowBlur","areaStyle","smooth","markLine","e","485","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","domProps","textContent","_s","_v","staticStyle","text-align","margin-bottom","align-self","dir","sc","spd","staticRenderFns","486","content","locals"],"mappings":"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","file":"0.c29a556edb2a248a0b1f.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 479:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(486)\n\nvar Component = __webpack_require__(88)(\n  /* script */\n  __webpack_require__(482),\n  /* template */\n  __webpack_require__(485),\n  /* scopeId */\n  \"data-v-4fc70af2\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 481:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(62)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \"body[data-v-4fc70af2],html[data-v-4fc70af2]{height:100%}#home[data-v-4fc70af2]{display:flex;display:-webkit-flex;flex-flow:column nowrap;justify-content:center;align-items:center}#home .detail[data-v-4fc70af2]{width:100%}#home .detail #tem-week[data-v-4fc70af2]{width:100%;height:40%;margin:10px auto}#home .detail .detail-text[data-v-4fc70af2]{width:100%}#home .detail .detail-text p[data-v-4fc70af2]{padding:0;font-size:1.2rem;display:flex;flex-flow:row nowrap}#home .detail .detail-text p span[data-v-4fc70af2]{padding:0 10px;width:50%;font-weight:200}#home .detail .detail-text p [data-v-4fc70af2]:first-child{text-align:right}#home .week-dailys[data-v-4fc70af2]{height:200px;width:12%;border-radius:10px}#home .today[data-v-4fc70af2]{width:40%;display:flex;flex-flow:column nowrap;justify-content:center;align-items:center}#home .today .main-tmp span[data-v-4fc70af2]{font-size:5rem;font-weight:800}#home .today .line[data-v-4fc70af2]{margin:0 auto 10px;display:block;width:70%;text-align:center;background-color:#000;height:3px;border-radius:50%}#home .today .city-cond[data-v-4fc70af2]{font-size:1.2rem}#home .sun-weather[data-v-4fc70af2],#home body[data-v-4fc70af2]{background:radial-gradient(circle farthest-side at 20% 20%,#add8f7,#0e77ca)}#home .cloudy-weather[data-v-4fc70af2]{background:linear-gradient(#5a5a5a,#222)}@media only screen and (max-width:1024px){#home .today[data-v-4fc70af2]{width:100%}#home .after-today[data-v-4fc70af2]{display:none}#home #tem-week[data-v-4fc70af2]{width:90%}}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 482:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'Home',\n    data: function data() {\n        return {\n            \"basic\": {\n                \"city\": \"北京\",\n                \"update\": { \"loc\": \"\" }\n            },\n            \"now\": {\n                \"hum\": \"\",\n                \"fl\": \"\",\n                \"vis\": \"\",\n                \"wind\": {},\n                \"cond\": {\n                    \"txt\": ''\n                }\n            },\n            \"chartsOptions\": {\n            },\n            \"daily_forecast\": [],\n            \"afterCalculater\": {\n                \"maxTmps\": [],\n                \"minTmps\": [],\n                \"xDate\": []\n            }\n        }\n    },\n    preFetch: function preFetch() {\n        return this.methods.meta()\n    },\n    beforeMount: function beforeMount() {\n        this.$emit('view', this.meta())\n    },\n    created: function created() {\n        this.getWeathers();\n    },\n    mounted: function mounted() {\n        console.log('The Window Screen Height Is: ' + window.screen.height + 'px');\n        document.getElementById('sessionone').style.height = window.screen.height + 'px';\n        document.getElementById('sessiontwo').style.height = (window.screen.height - 40) + 'px';\n        return window.addEventListener('scroll', this.handleScroll)\n    },\n    methods: {\n        meta: function () { return ({\n            title: 'iWeAther',\n            description: '当前天气',\n            keywords: 'PWA'\n        }); },\n        getWeathers: function () {\n            var self = this\n            self.$http.get('/now').then(function (response) {\n                self.$data.now = response.data.HeWeather5[0].now;\n                self.$data.basic = response.data.HeWeather5[0].basic;\n            }).catch(function (error) {\n                throw new Error(error);\n            })\n\n            self.$http.get('/forecast').then(function (response) {\n                self.$data.daily_forecast = response.data.HeWeather5[0].daily_forecast;\n            }).then(function () {\n                self.calcuTems(self.$data.daily_forecast)\n            }).then(function () {\n                self.renderCharts();\n            }).catch(function (error) {\n                throw new Error(error);\n            })\n            console.log(self.$data)\n        },\n        calcuTems: function (temArr) {\n            var ref = [[], [], []];\n            var temMaxs = ref[0];\n            var temMins = ref[1];\n            var xDate = ref[2];\n            temArr.forEach(function (item, i) {\n                temMaxs.push(item.tmp.max);\n                temMins.push(item.tmp.min);\n                xDate.push(i == 0 ? '今天' : Number(item.date.split('-')[1]) + '-' + Number(item.date.split('-')[2]));\n\n            })\n            this.$data.afterCalculater = { maxTmps: temMaxs, minTmps: temMins, xDate: xDate };\n            console.log(temMaxs, temMins);\n        },\n        renderCharts: function () {\n            var self = this;\n            var myChart = this.$echarts.init(document.getElementById('tem-week'));\n            myChart.setOption({\n                \"xAxis\": {\n                    \"type\": 'category',\n                    \"boundaryGap\": false,\n                    \"data\": self.$data.afterCalculater.xDate\n                },\n                \"yAxis\": {\n                    \"show\": false,\n                    \"type\": 'value',\n                    \"min\": 'dataMin',\n                    \"max\": 'dataMin',\n                    \"axisLabel\": {\n                        \"formatter\": '{value} °C'\n                    }\n                },\n                \"series\": [\n                    {\n                        \"name\": '最高气温',\n                        \"type\": 'line',\n                        \"lineStyle\": {\n                            \"normal\": {\n                                \"width\": 1,\n                                \"color\": '#f04134',\n                                \"type\": 'solid',\n                                \"shadowColor\": 'rgba(0, 0, 0, 0.5)',\n                                \"shadowBlur\": 10\n                            }\n                        },\n                        \"areaStyle\": {\n                            \"normal\": {\n                                \"color\": '#f04134'\n                            }\n                        },\n                        \"smooth\": true,\n                        \"data\": self.$data.afterCalculater.maxTmps,\n                        \"markLine\": {\n                            \"data\": [\n                                { \"type\": 'average', \"name\": '平均值' }\n                            ]\n                        }\n                    }, {\n                        \"name\": '最低气温',\n                        \"type\": 'line',\n                        \"lineStyle\": {\n                            \"normal\": {\n                                \"width\": 1,\n                                \"color\": '#7265e6',\n                                \"type\": 'solid',\n                                \"shadowColor\": 'rgba(0, 0, 0, 0.5)',\n                                \"shadowBlur\": 10\n                            }\n                        },\n                        \"areaStyle\": {\n                            \"normal\": {\n                                \"color\": '#7265e6'\n                            }\n                        },\n                        \"smooth\": true,\n                        \"data\": self.$data.afterCalculater.minTmps,\n                        \"markLine\": {\n                            \"data\": [\n                                { \"type\": 'average', \"name\": '平均值' } ]\n                        }\n                    }\n                ]\n            });\n        },\n        handleScroll: function (e) {\n            // Do Some Thing\n        }\n    }\n});\n\n\n/***/ }),\n\n/***/ 485:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"home\",\n    attrs: {\n      \"id\": \"home\"\n    }\n  }, [_c('div', {\n    staticClass: \"week-dailys today\",\n    attrs: {\n      \"id\": \"sessionone\"\n    }\n  }, [_c('div', {\n    staticClass: \"main-tmp\"\n  }, [_c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.now.tmp)\n    }\n  }), _vm._v(\" ℃\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"city-cond\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.basic.city + '-' + _vm.now.cond.txt)\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail\",\n    attrs: {\n      \"id\": \"sessiontwo\"\n    }\n  }, [_c('p', {\n    staticStyle: {\n      \"text-align\": \"center\",\n      \"margin-bottom\": \"-60px\"\n    }\n  }, [_vm._v(\"未来一周气温走势\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"tem-week\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail-text\"\n  }, [_c('p', [_c('span', {\n    staticStyle: {\n      \"align-self\": \"flex-end\"\n    }\n  }, [_vm._v(\"数据更新时间:\")]), _c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.basic.update.loc)\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"相对湿度:\")]), _c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.now.hum + ' %')\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"体感温度:\")]), _c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.now.fl + ' ℃')\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"能见度:\")]), _c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.now.vis + ' km')\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"风向风力:\")]), _c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.now.wind.dir + _vm.now.wind.sc + '级')\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"风速:\")]), _c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.now.wind.spd + ' kmph')\n    }\n  })])])])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 486:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(481);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(63)(\"0e26a558\", content, true);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 0.c29a556edb2a248a0b1f.js","\n/* styles */\nrequire(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-4fc70af2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!stylus-loader!../../node_modules/.11.3.4@vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n\nvar Component = require(\"!../../node_modules/.11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!buble-loader?{\\\"objectAssign\\\":\\\"Object.assign\\\"}!../../node_modules/.11.3.4@vue-loader/lib/selector?type=script&index=0!./Home.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4fc70af2\\\",\\\"buble\\\":{\\\"objectAssign\\\":\\\"Object.assign\\\"}}!../../node_modules/.11.3.4@vue-loader/lib/selector?type=template&index=0!./Home.vue\"),\n  /* scopeId */\n  \"data-v-4fc70af2\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Home.vue\n// module id = 479\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/.0.27.3@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"body[data-v-4fc70af2],html[data-v-4fc70af2]{height:100%}#home[data-v-4fc70af2]{display:flex;display:-webkit-flex;flex-flow:column nowrap;justify-content:center;align-items:center}#home .detail[data-v-4fc70af2]{width:100%}#home .detail #tem-week[data-v-4fc70af2]{width:100%;height:40%;margin:10px auto}#home .detail .detail-text[data-v-4fc70af2]{width:100%}#home .detail .detail-text p[data-v-4fc70af2]{padding:0;font-size:1.2rem;display:flex;flex-flow:row nowrap}#home .detail .detail-text p span[data-v-4fc70af2]{padding:0 10px;width:50%;font-weight:200}#home .detail .detail-text p [data-v-4fc70af2]:first-child{text-align:right}#home .week-dailys[data-v-4fc70af2]{height:200px;width:12%;border-radius:10px}#home .today[data-v-4fc70af2]{width:40%;display:flex;flex-flow:column nowrap;justify-content:center;align-items:center}#home .today .main-tmp span[data-v-4fc70af2]{font-size:5rem;font-weight:800}#home .today .line[data-v-4fc70af2]{margin:0 auto 10px;display:block;width:70%;text-align:center;background-color:#000;height:3px;border-radius:50%}#home .today .city-cond[data-v-4fc70af2]{font-size:1.2rem}#home .sun-weather[data-v-4fc70af2],#home body[data-v-4fc70af2]{background:radial-gradient(circle farthest-side at 20% 20%,#add8f7,#0e77ca)}#home .cloudy-weather[data-v-4fc70af2]{background:linear-gradient(#5a5a5a,#222)}@media only screen and (max-width:1024px){#home .today[data-v-4fc70af2]{width:100%}#home .after-today[data-v-4fc70af2]{display:none}#home #tem-week[data-v-4fc70af2]{width:90%}}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.27.3@css-loader?minimize!./~/.11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-4fc70af2\",\"scoped\":true,\"hasInlineConfig\":true}!./~/.3.0.1@stylus-loader!./~/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/Home.vue\n// module id = 481\n// module chunks = 0","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    name: 'Home',\n    data() {\n        return {\n            \"basic\": {\n                \"city\": \"北京\",\n                \"update\": { \"loc\": \"\" }\n            },\n            \"now\": {\n                \"hum\": \"\",\n                \"fl\": \"\",\n                \"vis\": \"\",\n                \"wind\": {},\n                \"cond\": {\n                    \"txt\": ''\n                }\n            },\n            \"chartsOptions\": {\n            },\n            \"daily_forecast\": [],\n            \"afterCalculater\": {\n                \"maxTmps\": [],\n                \"minTmps\": [],\n                \"xDate\": []\n            }\n        }\n    },\n    preFetch() {\n        return this.methods.meta()\n    },\n    beforeMount() {\n        this.$emit('view', this.meta())\n    },\n    created() {\n        this.getWeathers();\n    },\n    mounted() {\n        console.log('The Window Screen Height Is: ' + window.screen.height + 'px');\n        document.getElementById('sessionone').style.height = window.screen.height + 'px';\n        document.getElementById('sessiontwo').style.height = (window.screen.height - 40) + 'px';\n        return window.addEventListener('scroll', this.handleScroll)\n    },\n    methods: {\n        meta: () => ({\n            title: 'iWeAther',\n            description: '当前天气',\n            keywords: 'PWA'\n        }),\n        getWeathers: function () {\n            let self = this\n            self.$http.get('/now').then(response => {\n                self.$data.now = response.data.HeWeather5[0].now;\n                self.$data.basic = response.data.HeWeather5[0].basic;\n            }).catch(error => {\n                throw new Error(error);\n            })\n\n            self.$http.get('/forecast').then(response => {\n                self.$data.daily_forecast = response.data.HeWeather5[0].daily_forecast;\n            }).then(() => {\n                self.calcuTems(self.$data.daily_forecast)\n            }).then(() => {\n                self.renderCharts();\n            }).catch(error => {\n                throw new Error(error);\n            })\n            console.log(self.$data)\n        },\n        calcuTems: function (temArr) {\n            let [temMaxs, temMins, xDate] = [[], [], []];\n            temArr.forEach((item, i) => {\n                temMaxs.push(item.tmp.max);\n                temMins.push(item.tmp.min);\n                xDate.push(i == 0 ? '今天' : Number(item.date.split('-')[1]) + '-' + Number(item.date.split('-')[2]));\n\n            })\n            this.$data.afterCalculater = { maxTmps: temMaxs, minTmps: temMins, xDate: xDate };\n            console.log(temMaxs, temMins);\n        },\n        renderCharts: function () {\n            let self = this;\n            let myChart = this.$echarts.init(document.getElementById('tem-week'));\n            myChart.setOption({\n                \"xAxis\": {\n                    \"type\": 'category',\n                    \"boundaryGap\": false,\n                    \"data\": self.$data.afterCalculater.xDate\n                },\n                \"yAxis\": {\n                    \"show\": false,\n                    \"type\": 'value',\n                    \"min\": 'dataMin',\n                    \"max\": 'dataMin',\n                    \"axisLabel\": {\n                        \"formatter\": '{value} °C'\n                    }\n                },\n                \"series\": [\n                    {\n                        \"name\": '最高气温',\n                        \"type\": 'line',\n                        \"lineStyle\": {\n                            \"normal\": {\n                                \"width\": 1,\n                                \"color\": '#f04134',\n                                \"type\": 'solid',\n                                \"shadowColor\": 'rgba(0, 0, 0, 0.5)',\n                                \"shadowBlur\": 10\n                            }\n                        },\n                        \"areaStyle\": {\n                            \"normal\": {\n                                \"color\": '#f04134'\n                            }\n                        },\n                        \"smooth\": true,\n                        \"data\": self.$data.afterCalculater.maxTmps,\n                        \"markLine\": {\n                            \"data\": [\n                                { \"type\": 'average', \"name\": '平均值' }\n                            ]\n                        }\n                    }, {\n                        \"name\": '最低气温',\n                        \"type\": 'line',\n                        \"lineStyle\": {\n                            \"normal\": {\n                                \"width\": 1,\n                                \"color\": '#7265e6',\n                                \"type\": 'solid',\n                                \"shadowColor\": 'rgba(0, 0, 0, 0.5)',\n                                \"shadowBlur\": 10\n                            }\n                        },\n                        \"areaStyle\": {\n                            \"normal\": {\n                                \"color\": '#7265e6'\n                            }\n                        },\n                        \"smooth\": true,\n                        \"data\": self.$data.afterCalculater.minTmps,\n                        \"markLine\": {\n                            \"data\": [\n                                { \"type\": 'average', \"name\": '平均值' },\n                            ]\n                        }\n                    }\n                ]\n            });\n        },\n        handleScroll: function (e) {\n            // Do Some Thing\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Home.vue","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"home\",\n    attrs: {\n      \"id\": \"home\"\n    }\n  }, [_c('div', {\n    staticClass: \"week-dailys today\",\n    attrs: {\n      \"id\": \"sessionone\"\n    }\n  }, [_c('div', {\n    staticClass: \"main-tmp\"\n  }, [_c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.now.tmp)\n    }\n  }), _vm._v(\" ℃\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"city-cond\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.basic.city + '-' + _vm.now.cond.txt)\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail\",\n    attrs: {\n      \"id\": \"sessiontwo\"\n    }\n  }, [_c('p', {\n    staticStyle: {\n      \"text-align\": \"center\",\n      \"margin-bottom\": \"-60px\"\n    }\n  }, [_vm._v(\"未来一周气温走势\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"tem-week\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail-text\"\n  }, [_c('p', [_c('span', {\n    staticStyle: {\n      \"align-self\": \"flex-end\"\n    }\n  }, [_vm._v(\"数据更新时间:\")]), _c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.basic.update.loc)\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"相对湿度:\")]), _c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.now.hum + ' %')\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"体感温度:\")]), _c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.now.fl + ' ℃')\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"能见度:\")]), _c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.now.vis + ' km')\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"风向风力:\")]), _c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.now.wind.dir + _vm.now.wind.sc + '级')\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"风速:\")]), _c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.now.wind.spd + ' kmph')\n    }\n  })])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-4fc70af2\",\"buble\":{\"objectAssign\":\"Object.assign\"}}!./~/.11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/pages/Home.vue\n// module id = 485\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/.0.27.3@css-loader/index.js?minimize!../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-4fc70af2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../node_modules/.3.0.1@stylus-loader/index.js!../../node_modules/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./Home.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/.2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"0e26a558\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.0.5@vue-style-loader!./~/.0.27.3@css-loader?minimize!./~/.11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-4fc70af2\",\"scoped\":true,\"hasInlineConfig\":true}!./~/.3.0.1@stylus-loader!./~/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/Home.vue\n// module id = 486\n// module chunks = 0"],"sourceRoot":""}