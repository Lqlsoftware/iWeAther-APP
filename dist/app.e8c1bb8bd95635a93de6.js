webpackJsonp([2],{161:function(t,e,i){"use strict";var a=i(65),n=i(478),s=(i.n(n),i(196)),o=i.n(s),r=i(188),l=i(186),c=i(164),d=i.n(c),h=i(239),p=i.n(h);i.d(e,"b",function(){return l.a}),i.d(e,"a",function(){return r.a}),i.d(e,"c",function(){return u}),d.a.defaults.baseURL="https://free-api.heweather.com/v5",d.a.defaults.params={city:"127.0.0.1",key:"6fcd1f55dc9d4c059b6ae73ec24f2ce2"},a.a.prototype.$http=d.a,a.a.prototype.$echarts=p.a,i.i(n.sync)(r.a,l.a);var u=new a.a(Object.assign({},{router:l.a,store:r.a},o.a))},182:function(t,e,i){e=t.exports=i(63)(void 0),e.push([t.i,"a,abbr,acronym,address,applet,big,blockquote,body,caption,cite,code,dd,del,dfn,div,dl,dt,em,fieldset,form,h1,h2,h3,h4,h5,h6,html,iframe,img,ins,kbd,label,legend,li,object,ol,p,pre,q,s,samp,small,span,strike,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,tt,ul,var{margin:0;padding:0;border:0;outline:0;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline}body{line-height:1;color:#000;background:#fff}ol,ul{list-style:none}a,abbr,acronym,address,caption,code,dd,del,dfn,div,dl,dt,em,fieldset,form,h1,h2,h3,h4,h5,h6,iframe,img,label,legend,li,object,ol,p,pre,span,tbody,tfoot,thead,tr,ul{margin:0;padding:0;border:0;outline:0;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline}table{border-collapse:separate;border-spacing:0}caption,table,td,th{vertical-align:middle}caption,td,th{text-align:left;font-weight:400}a img{border:none}body,html{height:100%}body{background-color:#eee;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,SimSun,sans-serif;font-size:100%;line-height:1.618}h1{font-size:2rem;font-weight:700}h1,p{padding:10px 0}a{color:#108ee9;text-decoration:none;transition:color .25s cubic-bezier(1,.5,.8,1),background-color .25s cubic-bezier(1,.5,.8,1)}a:hover{color:#4dba87}.img--responsive{max-width:100%;height:auto;display:block}.center{text-align:center}.center--block{margin:0 auto}",""])},183:function(t,e,i){e=t.exports=i(63)(void 0),e.push([t.i,"body[data-v-06031f34],html[data-v-06031f34]{height:100%}.refresh[data-v-06031f34]{position:fixed;bottom:50px;right:40px;height:58px;width:58px;border:0;border-radius:50%;background-color:#eee;box-shadow:0 0 3px 5px #eee}#app[data-v-06031f34]{height:100%;background-color:#fff}#app .swiper .swiper-roll[data-v-06031f34],#app .swiper[data-v-06031f34]{height:100%}#app .swiper .weather-info[data-v-06031f34]{font-size:1.5rem}#app .swiper .weather-info #content[data-v-06031f34]{height:100%;display:flex;flex-flow:column nowrap;justify-content:center;align-items:center}#app .swiper .weather-info #content .main-tmp span[data-v-06031f34]{font-size:5rem;font-weight:600}#app .swiper .weather-info #content .line[data-v-06031f34]{margin:0 auto 10px;display:block;width:70%;text-align:center;background-color:#000;height:3px;border-radius:50%}#app .swiper .weather-details[data-v-06031f34]{display:flex;flex-flow:column nowrap;color:#333}#app .swiper .weather-details .sm-info[data-v-06031f34]{text-align:center;font-size:1rem;margin:10px}#app .swiper .weather-details .main-content #tem-chart[data-v-06031f34]{margin-top:-30px;width:100%;height:250px}#app .swiper .weather-details .main-content .detail-infos[data-v-06031f34]{margin-top:-20px;width:100%}#app .swiper .weather-details .main-content .detail-infos .text-block[data-v-06031f34]{margin:10px 0}#app .swiper .weather-details .main-content .detail-infos .text-block p[data-v-06031f34]{padding:0;display:flex;flex-flow:row nowrap}#app .swiper .weather-details .main-content .detail-infos .text-block p span[data-v-06031f34]{padding:0 10px;width:50%;font-weight:200}#app .swiper .weather-details .main-content .detail-infos .text-block p [data-v-06031f34]:first-child{text-align:right}#app .swiper .weather-details footer[data-v-06031f34]{padding:10px;font-size:1rem;flex:1 0 auto;display:flex;justify-content:center;align-items:flex-end}#app .swiper .weather-details footer a[data-v-06031f34]{color:#333}",""])},184:function(t,e,i){e=t.exports=i(63)(void 0),e.push([t.i,'.swiper[data-v-0ede842b]{position:relative;overflow:hidden}.swiper .swiper-wrap[data-v-0ede842b]{display:-ms-flexbox;display:box;display:flex;width:100%;height:100%;transition:all 0ms ease}.swiper .swiper-wrap section[data-v-0ede842b]{overflow:hidden;flex-shrink:0;width:100%;height:100%}.swiper.horizontal .swiper-wrap[data-v-0ede842b]{-o-box-orient:horizontal;flex-direction:row}.swiper.vertical .swiper-wrap[data-v-0ede842b]{-o-box-orient:vertical;flex-direction:column}.swiper .swiper-pagination[data-v-0ede842b]{position:absolute}.swiper .swiper-pagination-bullet[data-v-0ede842b]{width:8px;height:8px;border-radius:50%;background-color:#000;opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20);transition:all .5s ease}.swiper .swiper-pagination-bullet.active[data-v-0ede842b]{background:#007aff;opacity:1;-ms-filter:none;filter:none}.swiper.vertical .swiper-pagination[data-v-0ede842b]{right:10px;top:50%;transform:translate3d(0,-50%,0)}.swiper .swiper-pagination-bullet[data-v-0ede842b]{display:block;margin:6px 0}.swiper.horizontal .swiper-pagination[data-v-0ede842b]{bottom:10px;width:100%;text-align:center}.swiper .swiper-pagination-bullet[data-v-0ede842b]{display:inline-block;margin:0 3px}',""])},185:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(162),n=(i.n(a),i(161));window.__INITIAL_STATE__&&n.a.replaceState(window.__INITIAL_STATE__),n.b.onReady(function(){n.c.$mount("#app")}),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js")},186:function(t,e,i){"use strict";var a=i(65),n=i(205);a.a.use(n.a);var s=function(){return i.e(0).then(i.bind(null,479))};e.a=new n.a({mode:"hash",scrollBehavior:function(t,e,i){var a={x:0,y:0};return t.hash?a={selector:t.hash}:i&&(a=i),a},routes:[{path:"*",name:"NotFound",component:s}]})},187:function(t,e,i){"use strict";e.a={getData:function(t,e){var i=t.dispatch;return Promise.all(e.map(function(t){return i(t)}))},getTestTitle:function(t){var e=t.commit;return new Promise(function(t){setTimeout(function(){e("SET_TEST_TITLE","Test | iWeAther-APP"),t()},1e3)})},getTestContent:function(t){var e=t.commit;return new Promise(function(t){setTimeout(function(){e("SET_TEST_CONTENT","Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nam recusandae, repudiandae corrupti dolor earum quibusdam molestiae obcaecati perspiciatis repellendus sequi a quod ea praesentium maxime unde architecto dignissimos non ipsum mollitia, fugiat qui, quo enim accusamus. Id similique voluptatibus facilis, ad perferendis distinctio consequatur impedit, dolorem repellendus ab ipsa. Necessitatibus."),t()},1e3)})}}},188:function(t,e,i){"use strict";var a=i(65),n=i(204),s=i(190),o=i(187),r=i(189);a.a.use(n.a),e.a=new n.a.Store({state:s.a,actions:o.a,mutations:r.a})},189:function(t,e,i){"use strict";e.a={SET_TEST_TITLE:function(t,e){t.testTitle=e},SET_TEST_CONTENT:function(t,e){t.testContent=e}}},190:function(t,e,i){"use strict";e.a={testTitle:"",testContent:""}},191:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(197),n=i.n(a);e.default={name:"App",data:function(){return{basic:{city:"",update:{loc:""}},now:{hum:"",fl:"",vis:"",wind:{},cond:{txt:""}},chartsOptions:{},daily_forecast:[],afterCalculater:{maxTmps:[],minTmps:[],xDate:[]},cool:{oldLocation:0}}},components:{Swiper:n.a},mounted:function(){return this.getWeathers()},methods:{view:function(t){var e=t.title,i=t.description,a=t.keywords;e&&(document.title=e),i&&(document.head.querySelector("meta[name=description]").content=i),a&&(document.head.querySelector("meta[name=keywords]").content=a)},getWeathers:function(){var t=this;t.$http.get("/now").then(function(e){t.now=e.data.HeWeather5[0].now,t.basic=e.data.HeWeather5[0].basic}).catch(function(t){throw new Error(t)}),t.$http.get("/forecast").then(function(e){t.daily_forecast=e.data.HeWeather5[0].daily_forecast}).then(function(){t.calcuTems(t.daily_forecast)}).then(function(){t.renderCharts()}).catch(function(t){throw new Error(t)}),console.log("GetWeathers")},calcuTems:function(t){var e=[[],[],[]],i=e[0],a=e[1],n=e[2];t.forEach(function(t,e){i.push(t.tmp.max),a.push(t.tmp.min),n.push(0==e?"今天":Number(t.date.split("-")[1])+"-"+Number(t.date.split("-")[2]))}),this.afterCalculater={maxTmps:i,minTmps:a,xDate:n},console.log(i,a)},onSlideChangeStart:function(t){console.log("onSlideChangeStart",t),this.cool.oldLocation=1===t?0:parseInt(window.screen.height/3)},formatTime:function(t){return Number(t.split(" ")[0].split("-")[1])+"月"+Number(t.split(" ")[0].split("-")[2])+"日"},startFreshPlay:function(){this.svgRun(),this.getWeathers()},svgRun:function(){var t=document.querySelector(".refresh path"),e=t.getTotalLength();t.style.transition=t.style.WebkitTransition="none",t.style.strokeDasharray=e+" "+e,t.style.strokeDashoffset=e,t.getBoundingClientRect(),t.style.transition=t.style.WebkitTransition="stroke-dashoffset 2s ease-in-out",t.style.strokeDashoffset="0"},renderCharts:function(){var t=this;this.$echarts.init(document.getElementById("tem-chart")).setOption({xAxis:{type:"category",boundaryGap:!1,data:t.afterCalculater.xDate},yAxis:{show:!1,type:"value",min:"dataMin",max:"dataMin",axisLabel:{formatter:"{value} °C"}},series:[{name:"最高气温",type:"line",lineStyle:{normal:{width:1,color:"#f04134",type:"solid"}},data:t.afterCalculater.maxTmps,markLine:{data:[{type:"average",name:"平均值"}]}},{name:"最低气温",type:"line",lineStyle:{normal:{width:1,color:"#7265e6",type:"solid"}},data:t.afterCalculater.minTmps,markLine:{data:[{type:"average",name:"平均值"}]}}]})}}}},192:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={props:{direction:{type:String,default:"vertical",validator:function(t){return["vertical","horizontal"].indexOf(t)>-1}},mousewheelControl:{type:Boolean,default:!0},performanceMode:{type:Boolean,default:!1},paginationVisible:{type:Boolean,default:!1},paginationClickable:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},speed:{type:Number,default:500}},data:function(){return{currentPage:1,lastPage:1,translateX:0,translateY:0,startTranslate:0,delta:0,dragging:!1,startPos:null,transitioning:!1,slideEls:[],translateOffset:0,transitionDuration:0}},mounted:function(){this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this.slideEls=[].map.call(this.$refs["swiper-wrap"].children,function(t){return t}),this.loop?this.$nextTick(function(){console.log(this),this._createLoop(),this.setPage(this.currentPage,!0)}):this.setPage(this.currentPage)},methods:{next:function(){var t=this.currentPage;t<this.slideEls.length||this.loop?this.setPage(t+1):this._revert()},prev:function(){var t=this.currentPage;t>1||this.loop?this.setPage(t-1):this._revert()},setPage:function(t,e){var i=this;if(this.lastPage=this.currentPage,0===t?this.currentPage=this.slideEls.length:t===this.slideEls.length+1?this.currentPage=1:this.currentPage=t,this.loop)0===this.delta&&this._setTranslate(i._getTranslateOfPage(this.lastPage)),setTimeout(function(){i._setTranslate(i._getTranslateOfPage(t)),e||i._onTransitionStart()},0);else{if(this._setTranslate(this._getTranslateOfPage(t)),e)return;this._onTransitionStart()}},isHorizontal:function(){return"horizontal"===this.direction},isVertical:function(){return"vertical"===this.direction},_onTouchStart:function(t){this.startPos=this._getTouchPos(t),this.delta=0,this.startTranslate=this._getTranslateOfPage(this.currentPage),this.startTime=(new Date).getTime(),this.dragging=!0,this.transitionDuration=0,document.addEventListener("touchmove",this._onTouchMove,!1),document.addEventListener("touchend",this._onTouchEnd,!1),document.addEventListener("mousemove",this._onTouchMove,!1),document.addEventListener("mouseup",this._onTouchEnd,!1)},_onTouchMove:function(t){this.delta=this._getTouchPos(t)-this.startPos,this.performanceMode||(this._setTranslate(this.startTranslate+this.delta),this.$emit("slider-move",this._getTranslate())),(this.isVertical()||this.isHorizontal()&&Math.abs(this.delta)>0)&&t.preventDefault()},_onTouchEnd:function(t){this.dragging=!1,this.transitionDuration=this.speed;var e=(new Date).getTime()-this.startTime<1e3;this.delta<-100||e&&this.delta<-15?this.next():this.delta>100||e&&this.delta>15?this.prev():this._revert(),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd),document.removeEventListener("mousemove",this._onTouchMove),document.removeEventListener("mouseup",this._onTouchEnd)},_onWheel:function(t){this.mousewheelControl&&(this.transitioning||(t.deltaY>0?this.next():this.prev()),this._isPageChanged()&&t.preventDefault())},_revert:function(){this.setPage(this.currentPage)},_getTouchPos:function(t){var e=this.isHorizontal()?"pageX":"pageY";return t.changedTouches?t.changedTouches[0][e]:t[e]},_onTransitionStart:function(){this.transitioning=!0,this.transitionDuration=this.speed,this._isPageChanged()?this.$emit("slide-change-start",this.currentPage):this.$emit("slide-revert-start",this.currentPage)},_onTransitionEnd:function(){this.transitioning=!1,this.transitionDuration=0,this.delta=0,this._isPageChanged()?this.$emit("slide-change-end",this.currentPage):this.$emit("slide-revert-end",this.currentPage)},_isPageChanged:function(){return this.lastPage!==this.currentPage},_setTranslate:function(t){this[this.isHorizontal()?"translateX":"translateY"]=t},_getTranslate:function(){return this[this.isHorizontal()?"translateX":"translateY"]},_getTranslateOfPage:function(t){if(0===t)return 0;var e=this.isHorizontal()?"clientWidth":"clientHeight";return-[].reduce.call(this.slideEls,function(i,a,n){return n>t-2?i:i+a[e]},0)+this.translateOffset},_createLoop:function(){var t=this.isHorizontal()?"clientWidth":"clientHeight",e=this.$refs["swiper-wrap"],i=e.firstElementChild.cloneNode(!0),a=e.lastElementChild.cloneNode(!0);e.insertBefore(a,e.firstElementChild),e.appendChild(i),this.translateOffset=-a[t]}}}},196:function(t,e,i){i(200),i(201);var a=i(88)(i(191),i(198),"data-v-06031f34",null);t.exports=a.exports},197:function(t,e,i){i(202);var a=i(88)(i(192),i(199),"data-v-0ede842b",null);t.exports=a.exports},198:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app",attrs:{id:"app"}},[i("swiper",{ref:"swiper",attrs:{direction:"vertical",paginationVisible:!1,"mousewheel-control":!0,"performance-mode":!1,"pagination-visible":!0,"pagination-clickable":!0,loop:!1},on:{"slide-change-start":t.onSlideChangeStart}},[i("section",{staticClass:"swiper-roll weather-info"},[i("div",{style:{transition:"All 0.4s ease-in-out",transform:"translate(0px, "+t.cool.oldLocation+"px)"},attrs:{id:"content"}},[i("div",{staticClass:"main-tmp"},[i("span",{domProps:{textContent:t._s(t.now.tmp)}}),t._v(" ℃")]),t._v(" "),i("div",{staticClass:"line"}),t._v(" "),i("div",{staticClass:"city-cond",domProps:{textContent:t._s(t.basic.city+"-"+t.now.cond.txt)}})])]),t._v(" "),i("section",{staticClass:"swiper-roll weather-details"},[i("div",{staticClass:"sm-info",domProps:{textContent:t._s(t.formatTime(t.basic.update.loc)+" "+t.now.tmp+"℃ "+t.now.cond.txt)}}),t._v(" "),i("div",{staticClass:"main-content"},[i("div",{attrs:{id:"tem-chart"}}),t._v(" "),i("div",{staticClass:"detail-infos"},[i("div",{staticClass:"text-block"},[i("p",[i("span",[t._v("数据更新时间:")]),t._v(" "),i("span",{domProps:{textContent:t._s(t.basic.update.loc)}})])]),t._v(" "),i("div",{staticClass:"text-block"},[i("p",[i("span",[t._v("相对湿度:")]),t._v(" "),i("span",{domProps:{textContent:t._s(t.now.hum+" %")}})]),t._v(" "),i("p",[i("span",[t._v("体感温度:")]),t._v(" "),i("span",{domProps:{textContent:t._s(t.now.fl+" ℃")}})]),t._v(" "),i("p",[i("span",[t._v("降水量:")]),t._v(" "),i("span",{domProps:{textContent:t._s(t.now.pcpn+" mm")}})])]),t._v(" "),i("div",{staticClass:"text-block"},[i("p",[i("span",[t._v("能见度:")]),t._v(" "),i("span",{domProps:{textContent:t._s(t.now.vis+" km")}})])]),t._v(" "),i("div",{staticClass:"text-block"},[i("p",[i("span",[t._v("风向风力:")]),t._v(" "),i("span",{domProps:{textContent:t._s(t.now.wind.dir+t.now.wind.sc+"级")}})]),t._v(" "),i("p",[i("span",[t._v("风速:")]),t._v(" "),i("span",{domProps:{textContent:t._s(t.now.wind.spd+" kmph")}})])])])]),t._v(" "),i("footer",[t._v("\n                Copyright © 2015-2017\n                "),i("a",{attrs:{href:"https://github.com/jeasonstudio"}},[t._v(" JeasonStudio")])])])]),t._v(" "),i("button",{staticClass:"refresh",on:{click:function(e){t.startFreshPlay()}}},[i("svg",{attrs:{width:"33px",height:"33px",viewBox:"0 0 33 33",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[i("title",[t._v("Path")]),t._v(" "),i("desc",[t._v("Created with Sketch.")]),t._v(" "),i("defs"),t._v(" "),i("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","stroke-linecap":"round","stroke-linejoin":"round","stroke-dasharray":"222.56 222.56","stroke-dashoffset":"99.42"}},[i("path",{attrs:{d:"M17,3 C7.5,1.5 -3.5,15 7,26.5 C18,36.5 31.5,26.5 30,16.5 C26,16.5 22.7337186,16.2899602 20.5,14 C18.292338,11.7367524 16.5,9.5 17,3 Z",id:"Path",stroke:"#339FB7","stroke-width":"4"}})])])])],1)},staticRenderFns:[]}},199:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"swiper",class:[t.direction,{dragging:t.dragging}],on:{touchstart:function(e){e.preventDefault(),t._onTouchStart(e)},mousedown:function(e){e.preventDefault(),t._onTouchStart(e)},wheel:t._onWheel}},[i("div",{ref:"swiper-wrap",staticClass:"swiper-wrap",style:{transform:"translate3d("+t.translateX+"px,"+t.translateY+"px, 0)","transition-duration":t.transitionDuration+"ms"},on:{transitionend:t._onTransitionEnd}},[t._t("default")],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.paginationVisible,expression:"paginationVisible"}],staticClass:"swiper-pagination"},t._l(t.slideEls,function(e,a){return i("span",{staticClass:"swiper-pagination-bullet",class:{active:a+1===t.currentPage},on:{click:function(e){t.paginationClickable&&t.setPage(a+1)}}})}))])},staticRenderFns:[]}},200:function(t,e,i){var a=i(182);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(64)("5c7684bc",a,!0)},201:function(t,e,i){var a=i(183);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(64)("41498299",a,!0)},202:function(t,e,i){var a=i(184);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(64)("3e4847d9",a,!0)}},[185]);
//# sourceMappingURL=app.e8c1bb8bd95635a93de6.js.map