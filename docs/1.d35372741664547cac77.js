webpackJsonp([1],{474:function(t,a,e){e(488);var i=e(162)(e(479),e(486),"data-v-4fc70af2",null);t.exports=i.exports},477:function(t,a,e){a=t.exports=e(86)(void 0),a.push([t.i,"#home[data-v-4fc70af2]{display:flex;display:-webkit-flex;flex-flow:column nowrap;justify-content:center;align-items:center}#home .detail[data-v-4fc70af2]{height:625px;width:100%}#home .detail #tem-week[data-v-4fc70af2]{width:100%;height:40%;margin:10px auto}#home .detail .detail-text[data-v-4fc70af2]{width:60%}#home .week-dailys[data-v-4fc70af2]{height:200px;width:12%;margin:10px 20px;border-radius:10px}#home .today[data-v-4fc70af2]{width:40%;height:635px;display:flex;flex-flow:column nowrap;justify-content:center;align-items:center}#home .today .main-tmp span[data-v-4fc70af2]{font-size:5rem;font-weight:800}#home .today .line[data-v-4fc70af2]{margin:0 auto 10px;display:block;width:70%;text-align:center;background-color:#000;height:3px;border-radius:50%}#home .today .city-cond[data-v-4fc70af2]{font-size:1.2rem}#home .sun-weather[data-v-4fc70af2],#home body[data-v-4fc70af2]{background:radial-gradient(circle farthest-side at 20% 20%,#add8f7,#0e77ca)}#home .cloudy-weather[data-v-4fc70af2]{background:linear-gradient(#5a5a5a,#222)}@media only screen and (max-width:1024px){#home .today[data-v-4fc70af2]{width:80%}#home .after-today[data-v-4fc70af2]{display:none}#home #tem-week[data-v-4fc70af2]{width:90%}}",""])},479:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"Home",data:function(){return{basic:{city:"北京"},now:{cond:{txt:""}},daily_forecast:[],afterCalculater:{maxTmps:[],minTmps:[],xDate:[]}}},preFetch:function(){return this.methods.meta()},beforeMount:function(){this.$emit("view",this.meta())},created:function(){this.getWeathers()},methods:{meta:function(){return{title:"iWeAther",description:"当前天气",keywords:"PWA"}},getWeathers:function(){var t=this;t.$http.get("/now").then(function(a){console.log(a.data.HeWeather5[0]),t.$data.now=a.data.HeWeather5[0].now,t.$data.basic=a.data.HeWeather5[0].basic}).catch(function(t){throw new Error(t)}),t.$http.get("/forecast").then(function(a){console.log(a.data.HeWeather5[0]),t.$data.daily_forecast=a.data.HeWeather5[0].daily_forecast,t.calcuTems(t.$data.daily_forecast),t.renderCharts()}).catch(function(t){throw new Error(t)}),console.log(t.$data)},calcuTems:function(t){var a=[[],[],[]],e=a[0],i=a[1],o=a[2];t.forEach(function(t,a){e.push(t.tmp.max),i.push(t.tmp.min),o.push(0==a?"今天":Number(t.date.split("-")[1])+"-"+Number(t.date.split("-")[2]))}),this.$data.afterCalculater={maxTmps:e,minTmps:i,xDate:o},console.log(e,i)},renderCharts:function(){var t=this,a=this.$echarts.init(document.getElementById("tem-week"));a.setOption({title:{text:"未来一周天气状况"},xAxis:{type:"category",boundaryGap:!1,data:t.$data.afterCalculater.xDate},yAxis:{show:!1,type:"value",min:"dataMin",max:"dataMin",axisLabel:{formatter:"{value} °C"}},series:[{name:"最高气温",type:"line",lineStyle:{normal:{type:"solid",shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:10}},smooth:!0,data:t.$data.afterCalculater.maxTmps,markLine:{data:[{type:"average",name:"平均值"}]}},{name:"最低气温",type:"line",lineStyle:{normal:{type:"solid",shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:10}},smooth:!0,data:t.$data.afterCalculater.minTmps,markLine:{data:[{type:"average",name:"平均值"}]}}]}),console.log(a)}}}},486:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home",attrs:{id:"home"}},[e("div",{staticClass:"week-dailys today"},[e("div",{staticClass:"main-tmp"},[e("span",{domProps:{textContent:t._s(t.now.tmp)}}),t._v(" ℃")]),t._v(" "),e("div",{staticClass:"line"}),t._v(" "),e("div",{staticClass:"city-cond",domProps:{textContent:t._s(t.basic.city+"-"+t.now.cond.txt)}})]),t._v(" "),e("div",{staticClass:"week-dailys after-today"}),t._v(" "),e("div",{staticClass:"week-dailys after-today"},[t._v("s")]),t._v(" "),e("div",{staticClass:"week-dailys after-today"},[t._v("a")]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"detail"},[e("div",{attrs:{id:"tem-week"}}),t._v(" "),e("div",{staticClass:"detail-text"},[e("p",[e("span"),e("span")]),t._v(" "),e("p"),t._v(" "),e("p"),t._v(" "),e("p"),t._v(" "),e("p"),t._v(" "),e("p")])])}]}},488:function(t,a,e){var i=e(477);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(87)("0e26a558",i,!0)}});
//# sourceMappingURL=1.d35372741664547cac77.js.map